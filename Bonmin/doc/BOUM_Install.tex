\PageHead{Installation}
\StartPageSummary
\PageSection{Installing \Bonmin}{sec:install}
\PageSection{Algorithms}{Algos}
\PageSection{Building the documentation}{sec:ref_man}
\PageSection{Running the test programs}{sec:test}
\EndPageSummary
\NavigationPanel

%\section{Layout of the \Bonmin\ package directory}

%\section{Layout of the \Bonmin\ project directory}
%The \Bonmin\ directory contains several sub-folders and files. We give here a brief overview of their content:
%\begin{itemize}
%\item {\tt Apps/} contains the sources to build the executable {\tt bonmin},
%\item {\tt BCP/} (undocumented) an experimental MINLP solver for parallel environments using
%  \href{http://www.coin-or.org/documentation.html\#BCP}{BCP}\footnote{http://www.coin-or.org/documentation.html\#BCP},
%\item {\BonminBB} contains the source of the library to interface {\tt IpoptInterface}, {\tt Oa} and {\tt Cbc} and
%to carry out a branch-and-bound algorithm,
%\item {\tt CbcCopy/} contains a copy of the most recent version of
%\href{http://www.coin-or.org/Cbc}{\tt Cbc} that has been tested and fully works with \Bonmin,
%\item {\tt Doc/} contains this documentation and the reference manual
%(to generate the reference manual see Section \ref{sec:ref_man}),
%\item {\tt IpoptInterface/} contains the source for an
%\href{http://www.coin-or.org/projects.html\#OSI}{\tt OsiInterface}\footnote{http://www.coin-or.org/projects.html\#OSI}
%interface to {\tt Ipopt} ({\tt OsiInterface}'s are mainly for LP solvers, with some
%rudimentary support for MILP solvers; so it is not truly an {\tt OsiInterface},
%but it implements sufficient
%functions for carrying out branch-and-bound),
%\item {\tt OaInterface} contains the necessary elements for interfacing outer-approximation inside {\tt Cbc} using an
%{\tt IpoptInterface},
%\item {\tt Test} contains some test problems (see Section \ref{sec:test}),
%\item {\tt Makefile} is the main Makefile,
%\item {\tt Makefile.conf} contains the information for configuring the build process of \Bonmin,
%\item {\tt Makefile.lib} contains general building rules.
%\end{itemize}

\PageTitle{Installing \Bonmin}{sec:install}
The build process for \Bonmin\ should be fairly automatic as it uses
\link{http://sources.redhat.com/autobook/autobook/}{GNU autotools}.
  It has been successfully compiled and run on the following platforms:
\begin{itemize}
\item Linux using g++ version 3.4 and 4.0
\item Windows using version Cygwin 1.5.18
\item Mac OS X using gcc 3.4 and 4.0
\end{itemize}
\Bonmin\ is compiled and installed using the commands:
\begin{verbatim}

./configure -C
make
make install

\end{verbatim}

This installs the executable {\tt bonmin} in {\tt Bonmin-dist/bin}. In what follows, we assume
that you have put the executable {\tt bonmin} on your path.

The {\tt configure} script attempts to find all of the machine specific settings (compiler, libraries,...)
necessary to compile and run the code. Although {\tt configure} should find most of the standard
ones, you may have to manually specify a few of the settings.
The options for the configure script can be found by issuing the command
\begin{verbatim}

./configure --help

\end{verbatim}
For a more in depth description of these options,
the reader is invited to refer to the COIN-OR {\tt BuildTools} \footlink{\linkCoin BuildTools}{trac page}.

\subsectionH{Specifying the location of {\tt Cplex} libraries}{}
If you have {\tt Cplex} installed on your machine, you may want to use it
as the Mixed Integer Linear Programming subsolver in {\tt B-OA} and {\tt B-Hyb}.
To do so you have to specify the location of the header files and libraries.
You can either specify the location of the header files directory by passing it as an
argument to the configure script or by writing it into a {\tt config.site} file.\\

In the former case, specify the location of the {\tt Cplex} header files by using the
argument {\tt --with-cplexincdir} and the location of the
{\tt Cplex } library with {\tt --with-cplexlib} (note that on the Linux platform you will also
need to add {\tt -lpthread} as an argument to {\tt --with-cplexlib}).\\

For example, on a Linux machine if {\tt Cplex} is installed in {\tt /usr/ilog}~, you would
invoke configure with the arguments as follows:
\begin{verbatim}

./configure --with-cplex-incdir=/usr/ilog/cplex/include/ilcplex \
  --with-cplex-lib="/usr/ilog/cplex/lib/libcplex.a -lpthread"
 \end{verbatim}
In the latter case, put a file called {\tt config.site} in a subdirectory named
{\tt share} of the installation directory (if you do not specify an alternate
installation directory to the {\tt configure} script with the {\tt --prefix}
argument, the installation directory is the directory where you execute the
{\tt configure} script). To specify the location of {\tt Cplex}~, insert the
following lines in the {\tt config.site} file:
 \begin{verbatim}

 with_cplex_lib="/usr/ilog/cplex/lib/libcplex.a -lpthread"
 with_cplex_incdir="/usr/ilog/cplex/include/ilcplex"
 \end{verbatim}
 (You will find a {\tt config.site} example in the subdirectory {\tt BuildTools} of {\tt Bonmin-dist}.)

\subsectionH{Compiling \Bonmin\ in a external directory}{sec:vpath}
It is possible to compile \Bonmin\ in a directory different from {\tt Bonmin-dist}.
This is convenient if you want to have several executables compiled for different a
rchitectures or have several executables compiled with different options
(debugging and production, shared and static libraries).\\

To do this just create a new directory, for example {\tt Bonmin-build} in the parent directory of
{\tt Bonmin-dist} and run the configure command from {\tt Bonmin-build}:
\begin{verbatim}

../Bonmin-dist/configure -C

\end{verbatim}
This will create the makefiles in {\tt Bonmin-dist}, and
you can then compile with the usual {\tt make} and {\tt make install}
(in {\tt Bonmin-build}).

\subsectionH{Building the documentation}{sec:ref_man}
The documentation for \Bonmin\ consists of a users' manual (this document) and a reference manual.
You can build a local copy of the reference manual provided that you have Latex
and Doxygen installed on your machine. Issue the command {\tt make
doxydoc} in {\tt Bonmin-dist}. It calls Doxygen to build a copy of the
reference manual. An html version of the reference manual can then
be accessed in {\tt doc/html/index.html}.

%You can also build a pdf
%version of the reference manual by issuing the command {\tt make
%refman.pdf} ({\tt refman.pdf} is placed in the {\tt doc} subdirectory).

\subsectionH{Running the test programs}{sec:test}
By issuing the command {\tt make test}~, you build and run the automatic test program for \Bonmin.
